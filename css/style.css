:root {
  /* Colores base adaptados al fondo (proporcionados por el usuario) */
  --color-bg-dark: #0d0c1d;
  --color-bg-light: #1a1a2e;
  --color-accent-primary: #00f0ff;
  --color-accent-secondary: #ff3bff;
  --color-text-light: #f0f8ff;
  --color-text-dark: #1a202c;
  --color-error: #ff4757;
  --color-warning: #ffa502;
  --color-shadow: rgba(0, 240, 255, 0.15);

  --gradient-bg: linear-gradient(120deg, var(--color-bg-dark), var(--color-bg-light));
  --gradient-overlay: linear-gradient(135deg, rgba(13, 12, 29, 0.85), rgba(26, 26, 46, 0.85));

  --font-family-base: 'Poppins', 'Segoe UI', 'Roboto', Arial, sans-serif;
  --font-size-base: 1.1rem;
  --font-size-title: clamp(2.2rem, 5vw, 2.8rem);
  --radius-md: 12px;
  --gap-md: 1.2rem;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:var(--font-family-base);
  font-size:var(--font-size-base);
  color:var(--color-text-light);
  background:var(--gradient-bg);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  padding:2rem;
  background-image: url('https://www.transparenttextures.com/patterns/stardust.png');
}

.container{
    display: flex;
    gap: 2rem;
    max-width: 1400px;
    margin: 0 auto;
    width: 100%;
    min-height: 100%;
    align-items: center;
    justify-content: center;
}
#game{flex:1}
.card{
  background:var(--gradient-overlay);
  padding:2rem;
  border-radius:var(--radius-md);
  box-shadow:0 8px 32px 0 var(--color-shadow);
  border:1px solid rgba(255,255,255,0.1);
  backdrop-filter: blur(10px);
}

.game__header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}
.game__title{font-size:var(--font-size-title);margin:0;color:var(--color-accent-primary);text-shadow:0 0 15px rgba(0,240,255,0.5)}
.score-panel{display:flex;gap:1rem;align-items:center}
.score-panel__item{background:rgba(0,0,0,0.2);padding:0.8rem 1.2rem;border-radius:var(--radius-md);border:1px solid rgba(255,255,255,0.05);font-weight:600}

.question-card{margin-top:1rem}
.question-card__text{font-size:2rem;color:var(--color-text-light);margin:0; line-height: 1.4;}

.question-card__options{display:grid;grid-template-columns:1fr;gap:1rem;margin-top:1.5rem}
.question-card__option{padding:1.2rem;border-radius:var(--radius-md);border:1px solid rgba(255,255,255,0.1);cursor:pointer;background:linear-gradient(180deg, rgba(255,255,255,0.05), rgba(255,255,255,0.02));transition:transform .2s ease, box-shadow .2s ease, background-color .2s ease;font-size: 1.2rem;}
.question-card__option:hover{transform:translateY(-5px);box-shadow:0 10px 20px rgba(0,0,0,0.2); background-color: rgba(0, 240, 255, 0.1);}
.question-card__option--correct{border-color:rgba(0,255,170,0.8);background:linear-gradient(90deg, rgba(0,255,170,0.1), rgba(0,240,255,0.05));color:var(--color-text-light)}
.question-card__option--wrong{border-color:var(--color-error);background:linear-gradient(90deg, rgba(255,71,87,0.1), rgba(255,71,87,0.05));color:var(--color-text-light)}

.game__actions{display:flex;justify-content:space-between;align-items:center;margin-top:2rem}
.hidden{display:none}
.lifelines {
    display: flex;
    gap: 1rem;
}
.lifeline{
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.8rem 1.2rem;
    border-radius: var(--radius-md);
    border: 1px solid rgba(255,255,255,0.1);
    background: rgba(0, 0, 0, 0.2);
    color: var(--color-text-light);
    font-weight: 600;
    font-size: 1rem;
    cursor: pointer;
    transition: transform .2s ease, box-shadow .2s ease, background-color .2s ease;
}
.lifeline:hover, .lifeline:focus-visible {
    outline: none;
    box-shadow:0 8px 25px rgba(0,240,255,0.2);
    transform:translateY(-3px); 
    border-color: rgba(0, 240, 255, 0.3);
    background-color: rgba(0, 240, 255, 0.1);
}
.lifeline--disabled {
    opacity: 0.4;
    cursor: not-allowed;
    pointer-events: none;
}
.lifeline__icon { font-size: 1.2rem; color: var(--color-accent-primary); }

.game__message{margin-top:1.5rem;color:var(--color-text-light);min-height:2rem; font-size: 1.2rem; text-align: center;}
.game__message--correct { font-weight: bold; color: var(--color-accent-primary); }
.game__message--wrong { font-weight: bold; color: var(--color-error); }
.game__message--timeout { font-weight: bold; color: var(--color-warning); }

label{display:block;margin-top:0;color:rgba(255,255,255,0.8)}
input[type=number]{width:100px;margin-left:1rem;padding:0.5rem;border-radius:var(--radius-md);border:1px solid rgba(255,255,255,0.1);background:rgba(0,0,0,0.2);color:var(--color-text-light)}

/* Admin page only */
.question-list{margin-top:1rem}
.question-list__item{padding:1rem;border-bottom:1px solid rgba(255,255,255,0.05);font-size:1rem;color:rgba(255,255,255,0.9)}

@media(max-width:900px){
  .container{flex-direction:column;padding:1rem}
}

/* Botones */
.btn-primary{background:linear-gradient(90deg,var(--color-accent-primary),var(--color-accent-secondary));border:none;color:#051018;padding:1rem 2rem;border-radius:var(--radius-md);cursor:pointer;font-size: 1.2rem; font-weight: bold; width: 100%; transition: transform 0.2s ease, box-shadow 0.2s ease;}
.btn-primary:hover{transform:scale(1.05); box-shadow: 0 10px 20px rgba(0,0,0,0.2);}

.game__actions .btn-primary {
    width: auto;
    padding: 1rem 2rem;
}
.btn-secondary { background: transparent; border: 1px solid var(--color-accent-primary); color: var(--color-accent-primary); padding: 1rem 2rem; border-radius: var(--radius-md); cursor: pointer; font-size: 1.2rem; font-weight: bold; width: 100%; transition: background-color 0.2s ease, color 0.2s ease; }
.btn-secondary:hover { background-color: var(--color-accent-primary); color: var(--color-bg-dark); }


.btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.1);padding:0.8rem 1.2rem;border-radius:var(--radius-md);color:var(--color-text-light);cursor:pointer; transition: background-color 0.2s ease, border-color 0.2s ease;}
.btn-ghost:hover{background:rgba(255,255,255,0.1);border-color:rgba(255,255,255,0.2)}

.score-highlight{color:var(--color-accent-primary);font-weight:700}

/* Start screen */
.start-screen{max-width:500px;margin:auto;padding:2.5rem;text-align:center}
.start-screen__title{font-size:var(--font-size-title);margin:0 0 2rem 0;color:var(--color-accent-primary);text-shadow:0 0 15px rgba(0,240,255,0.5)}
.start-screen__actions {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    width: 100%;
    margin-top: 1.5rem;
}

#admin-login {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin-top: 1.5rem;
}

#admin-password-input {
    width: 100%;
    padding: 1rem;
    border-radius: var(--radius-md);
    border: 1px solid rgba(255, 255, 255, 0.2);
    background: rgba(0, 0, 0, 0.3);
    color: var(--color-text-light);
    font-size: 1.1rem;
}

/* Mute switch */
.mute-container {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 1rem;
    gap: 1rem;
}

.mute-text {
    color: var(--color-accent-primary);
    font-size: var(--font-size-base);
    font-weight: 600;
    text-shadow: 0 0 8px rgba(0, 240, 255, 0.7);
    line-height: 34px; /* Alinea verticalmente con el slider */
}

.switch { position: relative; display: inline-block; width: 60px; height: 34px; }
.switch input { opacity: 0; width: 0; height: 0; }
.slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; transition: .4s; }
.slider:before { position: absolute; content: ""; height: 26px; width: 26px; left: 4px; bottom: 4px; background-color: white; transition: .4s; }
input:checked + .slider { background-color: var(--color-accent-primary); }
input:focus + .slider { box-shadow: 0 0 1px var(--color-accent-primary); }
input:checked + .slider:before { transform: translateX(26px); }
.slider.round { border-radius: 34px; }
.slider.round:before { border-radius: 50%; }

.slider::after {
    position: absolute;
    content: "OFF";
    color: white;
    display: block;
    font-size: 10px;
    top: 50%;
    transform: translateY(-50%);
    right: 10px;
    font-weight: bold;
}

input:checked + .slider::after {
    content: "ON";
    left: 10px;
    right: auto;
}

/* Timer */
.timer{height:12px;background:rgba(0,0,0,0.2);border-radius:var(--radius-md);margin-top:1.5rem;overflow:hidden;border:1px solid rgba(255,255,255,0.05)}
.timer__fill{height:100%;width:100%;background:linear-gradient(90deg,var(--color-accent-primary),var(--color-accent-secondary));transform-origin:left;transition:width 0.1s linear}

/* Leaderboard (dentro de start-screen) */
.leaderboard{margin-top:2rem;text-align:left;border-top:1px solid rgba(255,255,255,0.15);padding-top:1.5rem}
.leaderboard h3{text-align:center;margin-top:0; color: var(--color-accent-secondary);}
.leaderboard ol{padding-left:1.5rem}
.leaderboard li{margin-bottom:0.8rem; font-size: 1.1rem;}

/* Dialog (Modal) Styles */
dialog {
    max-width: 900px;
    width: calc(100% - 2rem);
    border: none;
    padding: 0; /* El padding lo hereda de .card */
    max-height: 85vh;
    overflow-y: auto;
}
dialog::backdrop {
    background-color: rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(4px);
}
dialog h2 {
    text-align: center;
    margin-bottom: 1.5rem;
    color: var(--color-accent-primary);
    font-size: 2rem;
    font-weight: bold;
    text-shadow: 0 0 10px rgba(0, 240, 255, 0.5); 
    /* El color se hereda del body */
}
dialog h3 { color: var(--color-accent-secondary); margin-top: 2rem; margin-bottom: 0.75rem; }
dialog hr { border-color: rgba(255, 255, 255, 0.1); }

#instructions-text {
    line-height: 1.7;
    font-size: 1.3rem;
    color: #ffff;
    background-color: rgba(255, 255, 255, 0.2);
    padding: 1.5rem;
    border-radius: var(--radius-md);
    border: 1px solid rgba(255, 255, 255, 0.05);
}
#instructions-text li {
    margin-bottom: 0.5rem;
}
.close-btn {
    position: absolute; top: 10px; right: 20px; background: none; border: none;
    color: var(--color-text-light); font-size: 2.5rem; cursor: pointer; line-height: 1;
}

@media (max-width: 600px) {
  body { padding: 1rem; }
  .container { padding: 0.5rem; }
  .game__header {
    flex-direction: column;
    gap: 0.8rem;
  }

  .question-card__text {
    font-size: 1.4rem;
  }

  .question-card__option {
    font-size: 1rem;
    padding: 1rem;
  }

  .lifeline {
    padding: 0.8rem;
    font-size: 0.8rem;
  }

  .game__actions {
    flex-direction: column;
    gap: 0.8rem;
  }
}